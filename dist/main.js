(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const t=function(){function t(e){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e){if("Escape"===e.key){var t=document.querySelector(".pop-up_opened");o.close(t)}},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popupSelector=e,this._popup=document.querySelector(e)}var n,r;return n=t,(r=[{key:"open",value:function(){this._popup.classList.add("pop-up_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("pop-up_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".pop-up__close-button").addEventListener("click",(function(){e.close()})),this._popup.querySelector(".pop-up__overlay").addEventListener("click",(function(){e.close()}))}}])&&e(n.prototype,r),t}();function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(p,e);var t,n,a,c,s=(a=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(a);if(c){var n=l(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=s.call(this,e))._submitForm=t,n._inputs=Array.from(n._popup.querySelectorAll(".pop-up__input")),n}return t=p,(n=[{key:"_getInputValues",value:function(){var e=this;return this._values={},this._inputs.forEach((function(t){e._values[t.name]=t.value})),this._values}},{key:"setEventListeners",value:function(){o(l(p.prototype),"setEventListeners",this).call(this),this._formElement=this._popup.querySelector(".pop-up__container"),this._popup.addEventListener("submit",this._submitForm)}},{key:"close",value:function(){o(l(p.prototype),"close",this).call(this),this._formElement.reset()}}])&&r(t.prototype,n),p}(t);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImageContainer=t._popup.querySelector(".pop-up_container_type_image"),t._popupTitle=t._popup.querySelector(".pop-up__image-title"),t}return t=u,(n=[{key:"open",value:function(e,t){p(y(u.prototype),"open",this).call(this),this._popupImageContainer.src=e,this._popupImageContainer.alt=t,this._popupTitle.textContent=t}}])&&s(t.prototype,n),u}(t);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const d=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._image=t.link,this._text=t.name,this._cardSelector=n,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"render",value:function(){return this._newCard=this._getTemplate(),this._cardImage=this._newCard.querySelector(".element__image"),this._cardTitle=this._newCard.querySelector(".element__title"),this._cardImage.src=this._image,this._cardImage.alt=this._image,this._cardTitle.textContent=this._text,this._setEventListeners(),this._newCard}},{key:"_toggleLike",value:function(){this._newCard.querySelector(".element__like-button").classList.toggle("element__like-button_clicked")}},{key:"_deleteCard",value:function(){this._newCard.remove(),this._newCard=null}},{key:"_setEventListeners",value:function(){var e=this;this._newCard.querySelector(".element__delete-button").addEventListener("click",(function(t){e._deleteCard(t.target)})),this._newCard.querySelector(".element__like-button").addEventListener("click",(function(t){e._toggleLike(t.target.closest(".element__like-button"))})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._image,e._text)}))}}])&&m(t.prototype,n),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const b=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._inputSelector)),n=this._formElement.querySelector(this._submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(r){r.addEventListener("input",(function(){e._checkInputValidity(r),e._toggleButtonState(t,n)}))}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?t.classList.add(this._inactiveButtonClass):t.classList.remove(this._inactiveButtonClass)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&v(t.prototype,n),e}();var g=document.querySelector(".pop-up_type_image"),S=(g.querySelector(".pop-up__image-title"),g.querySelector(".pop-up_container_type_image"),{formSelector:".pop-up__container",inputSelector:".pop-up__input",submitButtonSelector:".pop-up__submit-button",inactiveButtonClass:"pop-up__submit-button_type_disabled",inputErrorClass:"pop-up__input_type_error",errorClass:"pop-up__error_element_type_active"});function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const E=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._containerElement=document.querySelector(n)}var t,n;return t=e,(n=[{key:"rendererItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._containerElement.prepend(e)}}])&&k(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){var n=t.profileTitleSelector,r=t.profileSubtitleSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileTitleSelector=n,this._profileSubtitleSelector=r,this._profileTitle=document.querySelector(this._profileTitleSelector),this._profileSubtitle=document.querySelector(this._profileSubtitleSelector)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this._userData={nameData:this._profileTitle.textContent,infoData:this._profileSubtitle.textContent},this._userData}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.info;this._profileTitle.textContent=t.value,this._profileSubtitle.textContent=n.value}}])&&w(t.prototype,n),e}(),q=".template-element",O=document.querySelector(".pop-up__form_type_add-card"),L=O.querySelector(".pop-up__input_type_name"),j=O.querySelector(".pop-up__input_type_image-link"),I=document.querySelector(".pop-up__form_type_edit-profile"),P=document.querySelector(".pop-up__form_type_add-card"),T=new b(S,I),R=new b(S,P);T.enableValidation(),R.enableValidation();var x=document.querySelector(".elements"),D=new E({items:[{name:"Бали",link:"./images/Бали.jpg"},{name:"Кения ",link:"./images/Кения.jpg"},{name:"Лиссабон",link:"./images/Лиссабон.jpg"},{name:"Невада",link:"./images/Невада.jpg"},{name:"Сиракузы ",link:"./images/Сиракузы.jpg"},{name:"Стокгольм",link:"./images/Стокгольм.jpg"}],renderer:function(e){var t=new d(e,q,V).render();D.addItem(t)}},".elements");D.rendererItems();var B=new h(".pop-up_type_image");function V(e,t){B.open(e,t)}B.setEventListeners();var U=new C({profileTitleSelector:".profile__title",profileSubtitleSelector:".profile__subtitle"}),A=document.querySelector(".pop-up__input_type_name"),F=document.querySelector(".pop-up__input_type_description"),M=new a(".pop-up-profile",(function(){U.setUserInfo({name:A,info:F}),M.close()})),N=document.querySelector(".profile__edit-button");M.setEventListeners(),N.addEventListener("click",(function(){A.value=U.getUserInfo().nameData,F.value=U.getUserInfo().infoData,M.open()}));var z=new a(".pop-up-place",(function(){var e={name:L.value,link:j.value},t=new d(e,q,V);x.prepend(t.render()),z.close()}));z.setEventListeners(),document.querySelector(".profile__add-button").addEventListener("click",(function(){z.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3NjcmlwdHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy91dGlscy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9zY3JpcHRzL2luZGV4LmpzIl0sIm5hbWVzIjpbInBvcHVwU2VsZWN0b3IiLCJldnQiLCJrZXkiLCJ0YXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZSIsInRoaXMiLCJfcG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZvcm0iLCJfc3VibWl0Rm9ybSIsIl9pbnB1dHMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3ZhbHVlcyIsImZvckVhY2giLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsIl9mb3JtRWxlbWVudCIsInJlc2V0IiwiUG9wdXAiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEltYWdlQ29udGFpbmVyIiwiX3BvcHVwVGl0bGUiLCJpbWFnZSIsInRleHQiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX2ltYWdlIiwibGluayIsIl90ZXh0IiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX25ld0NhcmQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwiX2NhcmRUaXRsZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInRvZ2dsZSIsIl9kZWxldGVDYXJkIiwiX3RvZ2dsZUxpa2UiLCJjbG9zZXN0Iiwib2JqZWN0IiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJidXR0b25FbGVtZW50IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwicHJldmVudERlZmF1bHQiLCJwb3B1cEltYWdlIiwidmFsaWRhdGlvbkRhdGEiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyRWxlbWVudCIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlVzZXJJbmZvIiwicHJvZmlsZVRpdGxlU2VsZWN0b3IiLCJwcm9maWxlU3VidGl0bGVTZWxlY3RvciIsIl9wcm9maWxlVGl0bGVTZWxlY3RvciIsIl9wcm9maWxlU3VidGl0bGVTZWxlY3RvciIsIl9wcm9maWxlVGl0bGUiLCJfcHJvZmlsZVN1YnRpdGxlIiwiX3VzZXJEYXRhIiwibmFtZURhdGEiLCJpbmZvRGF0YSIsImluZm8iLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiYWRkRWxlbWVudEZvcm0iLCJpbnB1dE5hbWUiLCJpbnB1dExpbmsiLCJlZGl0UHJvZmlsZUZvcm0iLCJhZGRDYXJkRm9ybSIsInZhbGlkYXRvclByb2ZpbGUiLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdG9yUGxhY2UiLCJlbmFibGVWYWxpZGF0aW9uIiwiZWxlbWVudHNMaXN0IiwiQ2FyZExpc3QiLCJTZWN0aW9uIiwiY2FyZCIsIkNhcmQiLCJyZW5kZXIiLCJhZGRJdGVtIiwicmVuZGVyZXJJdGVtcyIsInBvcHVwR2FsbGVyeSIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsInByb2ZpbGVJbmZvIiwicG9wdXBQcm9maWxlIiwic2V0VXNlckluZm8iLCJwb3B1cFByb2ZpbGVPcGVuQnV0dG9uIiwiZ2V0VXNlckluZm8iLCJwb3B1cEFkZENhcmQiLCJ1c2VyQ2FyZCJdLCJtYXBwaW5ncyI6InlMQTBDQSxRLFdBekNFLFdBQVlBLEdBQWUsSSxJQUFBLFEsNEZBQUEsUyxFQVFULFNBQUNDLEdBQ2pCLEdBQWdCLFdBQVpBLEVBQUlDLElBQWtCLENBQ3hCLElBQU1DLEVBQVNDLFNBQVNDLGNBQWMsa0JBQ3RDLEVBQUtDLE1BQU1ILE0sRUFYWSwwQixzQkFBQSxLLHVEQUFBLEssS0FDekJJLEtBQUtDLGVBQWlCUixFQUV0Qk8sS0FBS0UsT0FBU0wsU0FBU0MsY0FBY0wsRyxvREFhckNPLEtBQUtFLE9BQU9DLFVBQVVDLElBQUksaUJBQzFCUCxTQUFTUSxpQkFBaUIsVUFBV0wsS0FBS00sbUIsOEJBSTFDTixLQUFLRSxPQUFPQyxVQUFVSSxPQUFPLGlCQUM3QlYsU0FBU1csb0JBQW9CLFVBQVdSLEtBQUtNLG1CLDBDQUszQixXQUNsQk4s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QVF3RyxFQUFZSSxjQUFjM0IsU0FJdkN3QixFQUFhSCxVQUlmLElBQ01PLEVBQWUsSUFBSXhILEVBREosaUJBQ2dDLFdBQ25ELElBQU15SCxFQUFXLENBQ2YvRyxLQUFNc0YsRUFBVXJGLE1BQ2hCZ0IsS0FBTXNFLEVBQVV0RixPQUdaZ0csRUFBTyxJQUFJQyxFQUFLYSxFQUFVM0IsRUFBa0JyRSxHQUNsRCtFLEVBQWF0QixRQUFReUIsRUFBS0UsVUFDMUJXLEVBQWFsSSxXQUVma0ksRUFBYU4sb0JBQ2tCOUgsU0FBU0MsY0FBYyx3QkFFL0JPLGlCQUFpQixTQUFTLFdBQy9DNEgsRUFBYVAsVyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XG5cbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG5cbiAgXG4gICAgXG4gIH1cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9vcGVuZWRcIik7XG4gICAgICB0aGlzLmNsb3NlKHRhcmdldCk7XG4gICAgfVxuICB9XG4gXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcC11cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcC11cF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cblxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBfX2Nsb3NlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuX3BvcHVwXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBfX292ZXJsYXlcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRGb3JtKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0Rm9ybSA9IHN1Ym1pdEZvcm07XG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcC11cF9faW5wdXRcIikpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fdmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wLXVwX19jb250YWluZXInKSA7XG5cbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX3N1Ym1pdEZvcm0pO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgIFxuICBcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VDb250YWluZXIgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucG9wLXVwX2NvbnRhaW5lcl90eXBlX2ltYWdlXCJcbiAgICApO1xuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9faW1hZ2UtdGl0bGVcIik7XG4gIH1cbiAgb3BlbihpbWFnZSwgdGV4dCkge1xuICAgIHN1cGVyLm9wZW4oKTtcblxuICAgIHRoaXMuX3BvcHVwSW1hZ2VDb250YWluZXIuc3JjID0gaW1hZ2U7XG4gICAgdGhpcy5fcG9wdXBJbWFnZUNvbnRhaW5lci5hbHQgPSB0ZXh0O1xuICAgIHRoaXMuX3BvcHVwVGl0bGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG59XG4iLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoQ2FyZERhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XG4gICAgdGhpcy5faW1hZ2UgPSBDYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX3RleHQgPSBDYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIHJlbmRlciAoKXtcbiAgICB0aGlzLl9uZXdDYXJkID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2ltYWdlO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9pbWFnZTtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fbmV3Q2FyZDtcbiAgfTtcblxuICBfdG9nZ2xlTGlrZSgpe1xuICAgIHRoaXMuX25ld0NhcmRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtYnV0dG9uXCIpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtYnV0dG9uX2NsaWNrZWRcIik7XG4gIH07XG5cbiAgX2RlbGV0ZUNhcmQgKCkge1xuICAgIHRoaXMuX25ld0NhcmQucmVtb3ZlKCk7XG4gICAgdGhpcy5fbmV3Q2FyZCA9IG51bGw7XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzICgpIHtcbiAgICB0aGlzLl9uZXdDYXJkXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19kZWxldGUtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5fZGVsZXRlQ2FyZChldnQudGFyZ2V0KTtcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fbmV3Q2FyZFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLl90b2dnbGVMaWtlKGV2dC50YXJnZXQuY2xvc2VzdChcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKSk7XG4gICAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2ltYWdlLCB0aGlzLl90ZXh0KTtcbiAgICB9KTtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCIgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKG9iamVjdCwgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBvYmplY3QuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBvYmplY3QuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IG9iamVjdC5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gb2JqZWN0LmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gb2JqZWN0LmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gb2JqZWN0LmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciAgKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2hpZGVJbnB1dEVycm9yIChpbnB1dEVsZW1lbnQpICB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgIChpbnB1dEVsZW1lbnQpICB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzICAoKSAge1xuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlIChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpICB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCAgKGlucHV0TGlzdCkgIHtcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbiAgKCkgIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yOyIsImV4cG9ydCBjb25zdCBFU0NfS0VZQ09ERSA9IDI3O1xuXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wLXVwX3R5cGVfaW1hZ2VcIik7XG5cbmV4cG9ydCBjb25zdCBwb3B1cFRpdGxlID0gcG9wdXBJbWFnZS5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9faW1hZ2UtdGl0bGVcIik7XG5cbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlQ29udGFpbmVyID0gcG9wdXBJbWFnZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5wb3AtdXBfY29udGFpbmVyX3R5cGVfaW1hZ2VcIlxuKTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwi0JHQsNC70LhcIixcbiAgICBsaW5rOiBcIi4vaW1hZ2VzL9CR0LDQu9C4LmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQmtC10L3QuNGPIFwiLFxuICAgIGxpbms6IFwiLi9pbWFnZXMv0JrQtdC90LjRjy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JvQuNGB0YHQsNCx0L7QvVwiLFxuICAgIGxpbms6IFwiLi9pbWFnZXMv0JvQuNGB0YHQsNCx0L7QvS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0J3QtdCy0LDQtNCwXCIsXG4gICAgbGluazogXCIuL2ltYWdlcy/QndC10LLQsNC00LAuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCh0LjRgNCw0LrRg9C30YsgXCIsXG4gICAgbGluazogXCIuL2ltYWdlcy/QodC40YDQsNC60YPQt9GLLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQodGC0L7QutCz0L7Qu9GM0LxcIixcbiAgICBsaW5rOiBcIi4vaW1hZ2VzL9Ch0YLQvtC60LPQvtC70YzQvC5qcGdcIixcbiAgfSxcbl07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uRGF0YSA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3AtdXBfX2NvbnRhaW5lclwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3AtdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3AtdXBfX3N1Ym1pdC1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3AtdXBfX3N1Ym1pdC1idXR0b25fdHlwZV9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wLXVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wLXVwX19lcnJvcl9lbGVtZW50X3R5cGVfYWN0aXZlXCIsXG59O1xuXG4iLCIgIGNsYXNzIFNlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHtpdGVtcyxyZW5kZXJlcn0sY29udGFpbmVyU2VsZWN0b3Ipe1xuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLl9jb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgfVxuLy/QvNC10YLQvtC0INC+0YLRgNC40YHQvtCy0LrQuCDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LJcbnJlbmRlcmVySXRlbXMoKSB7XG50aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcbiAgICBcbn0pO1xufVxuXG5hZGRJdGVtKGVsZW1lbnQpe1xuICAgIHRoaXMuX2NvbnRhaW5lckVsZW1lbnQucHJlcGVuZChlbGVtZW50KVxufVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm97XG4gICAgY29uc3RydWN0b3Ioe3Byb2ZpbGVUaXRsZVNlbGVjdG9yLHByb2ZpbGVTdWJ0aXRsZVNlbGVjdG9yfSl7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVUaXRsZVNlbGVjdG9yPSBwcm9maWxlVGl0bGVTZWxlY3RvclxuICAgICAgICB0aGlzLl9wcm9maWxlU3VidGl0bGVTZWxlY3Rvcj0gcHJvZmlsZVN1YnRpdGxlU2VsZWN0b3JcbiAgICAgICAgdGhpcy5fcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9wcm9maWxlVGl0bGVTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fcHJvZmlsZVN1YnRpdGxlU2VsZWN0b3IpO1xuXG4gICAgfVxuXG5nZXRVc2VySW5mbygpe1xuICAgIHRoaXMuX3VzZXJEYXRhID0geyAgICBcbiAgICAgICAgbmFtZURhdGE6IHRoaXMuX3Byb2ZpbGVUaXRsZS50ZXh0Q29udGVudCxcbiAgICAgICAgaW5mb0RhdGE6IHRoaXMuX3Byb2ZpbGVTdWJ0aXRsZS50ZXh0Q29udGVudFxuICAgIH1cbiAgICByZXR1cm4gIHRoaXMuX3VzZXJEYXRhXG4gICBcbn1cblxuc2V0VXNlckluZm8oe25hbWUsaW5mb30pe1xuICAgIHRoaXMuX3Byb2ZpbGVUaXRsZS50ZXh0Q29udGVudCA9IG5hbWUudmFsdWVcbiAgICB0aGlzLl9wcm9maWxlU3VidGl0bGUudGV4dENvbnRlbnQgPSBpbmZvLnZhbHVlXG59XG59IiwiLy8gdmFyIEh0bWxXZWJwYWNrUGx1Z2luID0gcmVxdWlyZSgnaHRtbC13ZWJwYWNrLXBsdWdpbicpO3ZhciBIdG1sV2VicGFja1BsdWdpbiA9IHJlcXVpcmUoJ2h0bWwtd2VicGFjay1wbHVnaW4nKTtcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0aW9uRGF0YSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4vU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuL1VzZXJJbmZvLmpzXCI7XG5cblxuXG5jb25zdCB0ZW1wbGF0ZVNlbGVjdG9yID0gXCIudGVtcGxhdGUtZWxlbWVudFwiO1xuY29uc3QgYWRkRWxlbWVudEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9fZm9ybV90eXBlX2FkZC1jYXJkXCIpO1xuY29uc3QgaW5wdXROYW1lID0gYWRkRWxlbWVudEZvcm0ucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcbmNvbnN0IGlucHV0TGluayA9IGFkZEVsZW1lbnRGb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnBvcC11cF9faW5wdXRfdHlwZV9pbWFnZS1saW5rXCJcbik7XG5jb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wb3AtdXBfX2Zvcm1fdHlwZV9lZGl0LXByb2ZpbGVcIlxuKTtcbmNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBfX2Zvcm1fdHlwZV9hZGQtY2FyZFwiKTtcbi8v0LLQsNC70LjQtNCw0YbQuNGPXG5jb25zdCB2YWxpZGF0b3JQcm9maWxlID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkRhdGEsIGVkaXRQcm9maWxlRm9ybSk7XG5jb25zdCB2YWxpZGF0b3JQbGFjZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25EYXRhLCBhZGRDYXJkRm9ybSk7XG52YWxpZGF0b3JQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcbnZhbGlkYXRvclBsYWNlLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgZWxlbWVudHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcbmNvbnN0IENhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICB0ZW1wbGF0ZVNlbGVjdG9yLFxuICAgICAgICBoYW5kbGVDYXJkQ2xpY2tcbiAgICAgICkucmVuZGVyKCk7XG4gICAgICBDYXJkTGlzdC5hZGRJdGVtKGNhcmQpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmVsZW1lbnRzXCJcbik7XG5DYXJkTGlzdC5yZW5kZXJlckl0ZW1zKCk7XG5cbi8v0L/QvtC/0LDQvyDQs9Cw0LvQtdGA0LXQuFxuY29uc3QgcG9wdXBHYWxsZXJ5ID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcC11cF90eXBlX2ltYWdlXCIpO1xucG9wdXBHYWxsZXJ5LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2soaW1hZ2UsIHRleHQpIHtcbiAgcG9wdXBHYWxsZXJ5Lm9wZW4oaW1hZ2UsIHRleHQpO1xufVxuXG4vL9Ch0L7Qt9C00LDQvdC40LUg0L/QvtC/0LDQv9CwINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmNvbnN0IHByb2ZpbGVEYXRhID0ge1xuICBwcm9maWxlVGl0bGVTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgcHJvZmlsZVN1YnRpdGxlU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIsXG59O1xuXG5jb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlRGF0YSk7XG5jb25zdCBuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3AtdXBfX2lucHV0X3R5cGVfbmFtZVwiKTtcbmNvbnN0IGluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcC11cF9faW5wdXRfdHlwZV9kZXNjcmlwdGlvblwiKTtcblxuY29uc3QgcHJvZmlsZVNlbGVjdG9yID0gXCIucG9wLXVwLXByb2ZpbGVcIjtcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHByb2ZpbGVTZWxlY3RvciwgKCkgPT4ge1xuICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyh7IG5hbWUsIGluZm8gfSk7XG5cbiAgcG9wdXBQcm9maWxlLmNsb3NlKCk7XG59KTtcbmNvbnN0IHBvcHVwUHJvZmlsZU9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xucG9wdXBQcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cFByb2ZpbGVPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIC8vICBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpXG5cbiAgbmFtZS52YWx1ZSA9IHByb2ZpbGVJbmZvLmdldFVzZXJJbmZvKCkubmFtZURhdGE7XG4gIGluZm8udmFsdWUgPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpLmluZm9EYXRhO1xuXG4gIC8vXG5cbiAgcG9wdXBQcm9maWxlLm9wZW4oKTtcbn0pO1xuXG4vL9Ch0L7Qt9C00LDQvdC40LUg0L/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IENhcmRTZWxlY3RvciA9IFwiLnBvcC11cC1wbGFjZVwiO1xuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oQ2FyZFNlbGVjdG9yLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJDYXJkID0ge1xuICAgIG5hbWU6IGlucHV0TmFtZS52YWx1ZSxcbiAgICBsaW5rOiBpbnB1dExpbmsudmFsdWUsXG4gIH07XG4gIC8v0LTQvtCx0LDQstC70LXQvdC40LUg0LrQsNGA0YLRi1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQodXNlckNhcmQsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljayk7XG4gIGVsZW1lbnRzTGlzdC5wcmVwZW5kKGNhcmQucmVuZGVyKCkpO1xuICBwb3B1cEFkZENhcmQuY2xvc2UoKTtcbn0pO1xucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5jb25zdCBwb3B1cEFkZENhcmRPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuXG5wb3B1cEFkZENhcmRPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwQWRkQ2FyZC5vcGVuKCk7XG59KTtcbmxldCBzb21lU3RyID0gJ9CY0LfQvNC10L3QuNC7LCDRgdC+0YXRgNCw0L3QuNC7LCDRgdC+0LHRgNCw0LsnOyJdLCJzb3VyY2VSb290IjoiIn0=